namespace = sgm_start_events

country_event = {
    id = sgm_start_events.1
    is_triggered_only = yes
    hide_window = yes

    trigger = {
        has_origin = origin_game_master
    }

    immediate = {
        set_country_type = sgm_game_master
        add_modifier = {
            modifier = gm_country
            days = -1
        }
        every_country = {
            establish_communications_no_message = root
            root = { 
                add_intel = { amount = 100 who = prev } 
                add_intel_report = {
                    category = military
                    level = 4
                    who = prev
                }
                add_intel_report = {
                    category = government
                    level = 4
                    who = prev
                }
                add_intel_report = {
                    category = economy
                    level = 4
                    who = prev
                }
                add_intel_report = {
                    category = technology
                    level = 4
                    who = prev
                }
                add_intel_report = {
                    category = diplomacy
                    level = 4
                    who = prev
                }
            }
        }
        add_resource = {
			energy = 9999999
			minerals = 9999999
			influence = 9999999
			unity = 9999999
			alloys = 9999999
			food = 9999999
			consumer_goods = 9999999
			sr_dark_matter = 9999999
			sr_living_metal = 9999999
			sr_zro = 9999999
			volatile_motes = 9999999
			exotic_gases = 9999999
			rare_crystals = 9999999
			nanites = 9999999
        }
        set_variable = {
            which = mulitplier
            value = 1
        }
        set_country_flag = from@this
    }
}

event = {
    id = sgm_start_events.2
    is_triggered_only = yes
    title = gm_country_created_title
    desc = gm_country_created_desc
    picture = GFX_evt_ancient_artifact

    trigger = {
        NOT = {
            any_country = {
                is_country_type = sgm_game_master
            }
        }
    }

    immediate = {
        random_galaxy_species = {
            save_event_target_as = gm_species
        }
        create_country = {
            name = gm_country
            type = sgm_game_master
            species = event_target:gm_species
            origin = origin_game_master
            name_list = "PRT1"
            flag = {
                background = {
                    category = "backgrounds"
                    file = "00_solid.dds"
                }
                colors ={
                    "black"
                    "black"
                    "null"
                    "null"
                }
            }
            effect = { 
                add_modifier = {
                    modifier = gm_country
                    days = -1
                }
                every_country = {
                    establish_communications_no_message = prev
                    prev = { 
                        add_intel = { amount = 100 who = prev } 
                        add_intel_report = {
                            category = military
                            level = 4
                            who = prev
                        }
                        add_intel_report = {
                            category = government
                            level = 4
                            who = prev
                        }
                        add_intel_report = {
                            category = economy
                            level = 4
                            who = prev
                        }
                        add_intel_report = {
                            category = technology
                            level = 4
                            who = prev
                        }
                        add_intel_report = {
                            category = diplomacy
                            level = 4
                            who = prev
                        }
                    }
                }
                add_resource = {
                    energy = 9999999
                    minerals = 9999999
                    influence = 9999999
                    unity = 9999999
                    alloys = 9999999
                    food = 9999999
                    consumer_goods = 9999999
                    sr_dark_matter = 9999999
                    sr_living_metal = 9999999
                    sr_zro = 9999999
                    volatile_motes = 9999999
                    exotic_gases = 9999999
                    rare_crystals = 9999999
                    nanites = 9999999
                }
                set_variable = {
                    which = modifier_var
                    value = 1
                }
                set_country_flag = from@this
            }
        }
    }    
}

country_event = {
    id = sgm_start_events.3
    hide_window = yes
    is_triggered_only = yes
    fire_only_once = yes

    immediate = {
        event_target:global_event_country = {
            set_variable = {
                which = ship_destroyed_scalar
                value = 1
            }
            set_variable = {
                which = pop_purged_scalar
                value = 2
            }
            set_variable = {
                which = planet_conquered_scalar
                value = 3
            }
            set_variable = {
                which = country_destroyed_scalar
                value = 10
            }
            set_variable = {
                which = megastructure_built_scalar
                value = 20
            }
            set_variable = {
                which = system_gained_scalar
                value = 2
            }
            set_variable = {
                which = subject_gained_scalar
                value = 3
            }
            set_variable = {
                which = subject_integrated_scalar
                value = 3
            }
            set_variable = {
                which = star_system_destroyed_scalar
                value = 20
            }
            set_variable = {
                which = tech_unlocked_scalar
                value = 2
            }            
            set_variable = {
                which = tradition_unlocked_scalar
                value = 2
            }
            set_variable = {
                which = ascension_perk_unlocked_scalar
                value = 5
            }
            set_variable = {
                which = planet_destroyed_scalar
                value = 5
            }     
        }
    }
}